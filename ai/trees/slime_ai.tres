[gd_resource type="BehaviorTree" load_steps=25 format=3 uid="uid://cg2xvua4lo6hn"]

[ext_resource type="Script" uid="uid://bikf134tdsiij" path="res://ai/tasks/simple/choose_random_position_new.gd" id="1_t05l3"]
[ext_resource type="Script" uid="uid://djo3mj4x0nxec" path="res://ai/tasks/simple/move_to_position_new.gd" id="2_y22fi"]
[ext_resource type="Script" uid="uid://dmf5fynnd3dnu" path="res://ai/tasks/find_target.gd" id="3_bj8vr"]
[ext_resource type="Script" uid="uid://8yjnfi0v1fr6" path="res://ai/tasks/move_to_target.gd" id="5_bj8vr"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_5300l"]
var/direction/name = &"direction"
var/direction/type = 5
var/direction/value = Vector2(0, 0)
var/direction/hint = 0
var/direction/hint_string = "direction the character is tryign to move in"
var/target/name = &"target"
var/target/type = 24
var/target/hint = 0
var/target/hint_string = "Attack target for the character"
var/health/name = &"health"
var/health/type = 2
var/health/value = 0
var/health/hint = 0
var/health/hint_string = "Health of character"

[sub_resource type="BTAlwaysFail" id="BTAlwaysFail_cb0o2"]

[sub_resource type="BTConsolePrint" id="BTConsolePrint_bj8vr"]
text = "chase player"

[sub_resource type="BTAction" id="BTAction_bj8vr"]
script = ExtResource("3_bj8vr")
group = &"Player"
target_var = &"target"

[sub_resource type="BTAction" id="BTAction_picx7"]
script = ExtResource("5_bj8vr")
target_var = &"target"
speed_var = 70
tolerance = 10

[sub_resource type="BTWait" id="BTWait_hhw6v"]
duration = 4.0

[sub_resource type="BTSequence" id="BTSequence_dw188"]
custom_name = "Move To Player Sequence"
children = [SubResource("BTAlwaysFail_cb0o2"), SubResource("BTConsolePrint_bj8vr"), SubResource("BTAction_bj8vr"), SubResource("BTAction_picx7"), SubResource("BTWait_hhw6v")]

[sub_resource type="BBNode" id="BBNode_bj8vr"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_cb0o2"]
animation_player = SubResource("BBNode_bj8vr")
animation_name = &"idle"

[sub_resource type="BTConsolePrint" id="BTConsolePrint_cb0o2"]
text = "idle"

[sub_resource type="BTRandomWait" id="BTRandomWait_nn2mf"]
max_duration = 4.0

[sub_resource type="BTSequence" id="BTSequence_2icub"]
custom_name = "Idle Sequence"
children = [SubResource("BTPlayAnimation_cb0o2"), SubResource("BTConsolePrint_cb0o2"), SubResource("BTRandomWait_nn2mf")]

[sub_resource type="BTProbability" id="BTProbability_bj8vr"]
children = [SubResource("BTSequence_2icub")]

[sub_resource type="BTConsolePrint" id="BTConsolePrint_t05l3"]
text = "random move"

[sub_resource type="BTAction" id="BTAction_y22fi"]
script = ExtResource("1_t05l3")

[sub_resource type="BTAction" id="BTAction_8g4h7"]
script = ExtResource("2_y22fi")

[sub_resource type="BTWait" id="BTWait_y22fi"]
duration = 4.0

[sub_resource type="BTSequence" id="BTSequence_npfd7"]
custom_name = "Random Move Sequence"
children = [SubResource("BTConsolePrint_t05l3"), SubResource("BTAction_y22fi"), SubResource("BTAction_8g4h7"), SubResource("BTWait_y22fi")]

[sub_resource type="BTSelector" id="BTSelector_y22fi"]
custom_name = "Walk"
children = [SubResource("BTProbability_bj8vr"), SubResource("BTSequence_npfd7")]

[sub_resource type="BTSelector" id="BTSelector_bj8vr"]
custom_name = "Slime AI"
children = [SubResource("BTSequence_dw188"), SubResource("BTSelector_y22fi")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_5300l")
root_task = SubResource("BTSelector_bj8vr")
