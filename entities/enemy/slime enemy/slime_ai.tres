[gd_resource type="BehaviorTree" load_steps=13 format=3 uid="uid://cg2xvua4lo6hn"]

[ext_resource type="Script" uid="uid://b7hm02p41h5np" path="res://ai/tasks/choose_random_pos.gd" id="1_ncjki"]
[ext_resource type="Script" uid="uid://xvepker724fw" path="res://ai/tasks/move_to_position.gd" id="2_nn2mf"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_5300l"]
var/direction/name = &"direction"
var/direction/type = 5
var/direction/value = Vector2(0, 0)
var/direction/hint = 0
var/direction/hint_string = "direction the character is tryign to move in"
var/target/name = &"target"
var/target/type = 24
var/target/hint = 0
var/target/hint_string = "Attack target for the character"
var/health/name = &"health"
var/health/type = 2
var/health/value = 0
var/health/hint = 0
var/health/hint_string = "Health of character"

[sub_resource type="BTConsolePrint" id="BTConsolePrint_nn2mf"]
text = "random move"

[sub_resource type="BTAction" id="BTAction_2icub"]
script = ExtResource("1_ncjki")
range_min_in_dir = 100.0
range_max_in_dir = 100.0
position_var = &"pos"
dir_var = &"dir"

[sub_resource type="BTAction" id="BTAction_4eia6"]
script = ExtResource("2_nn2mf")
target_pos_var = &"pos"
dir_var = &"dir"
speed_var = 40
tolerance = 10

[sub_resource type="BTWait" id="BTWait_4eia6"]
duration = 2.0

[sub_resource type="BTRandomWait" id="BTRandomWait_nn2mf"]
max_duration = 4.0

[sub_resource type="BTSequence" id="BTSequence_2icub"]
custom_name = "Idle Sequence"
children = [SubResource("BTRandomWait_nn2mf")]

[sub_resource type="BTSequence" id="BTSequence_npfd7"]
custom_name = "Random Move Sequence"
children = [SubResource("BTConsolePrint_nn2mf"), SubResource("BTAction_2icub"), SubResource("BTAction_4eia6"), SubResource("BTWait_4eia6"), SubResource("BTSequence_2icub")]

[sub_resource type="BTSequence" id="BTSequence_nn2mf"]
custom_name = "Move To Enemy Sequence"

[sub_resource type="BTDynamicSelector" id="BTDynamicSelector_ncjki"]
custom_name = "Slime AI"
children = [SubResource("BTSequence_npfd7"), SubResource("BTSequence_nn2mf")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_5300l")
root_task = SubResource("BTDynamicSelector_ncjki")
